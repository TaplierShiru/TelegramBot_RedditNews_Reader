# Reddit news reader | Telegram Bot

Telegram bot which fetches posts top submissions from a subreddit. 
NewsBot is used to demo a short, simple Python project from book, [Practical Docker With Python](https://www.apress.com/gp/book/9781484237830). 
Which I recommend for beginners of Docker software.

Most of the code taken from: https://github.com/Apress/practical-docker-with-python

### Getting started 

- Update your environment with:
`pip install -r requirements.txt`
- Set the environment variable `NBT_ACCESS_TOKEN` - Bot token generated by Telegram BotFather.
    - See instructions on how to generate the token in Chapter 3 of the book or [refer to this guide](https://core.telegram.org/bots/api#authorizing-your-bot)
    - See this guide on [how to set environment variables](https://core.telegram.org/bots/api#authorizing-your-bot)
- Start the bot: 
    `python newsbot.py`

### Start Docker

Start docker with next commands:

```
docker build -t redditnews-bot .
docker run --rm --name news-bot -e NBT_ACCESS_TOKEN=<token> -v newsbot-data:/apps/subredditfetcher/python-app/database_data redditnews-bot
```

Where `<token>` is your token from BotFather.

In docker will be used - Volume `newsbot-data` (`-v` parameter). 
Main purpose of this parameter - save database data if docker will be dropped/killed/deleted.

And there are some additional parameters, you can delete them if they are not needed in your case:
- `--rm` mean that docker will be deleted if exit from or close docker;
- `-e` set environment variable;
- `--name` name of current docker;